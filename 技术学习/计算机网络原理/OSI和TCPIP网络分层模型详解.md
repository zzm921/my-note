### OSI七层模型
OSI七层模型是国际标准化组织提出一个网络分层模型。![[Pasted image 20240111165129.png]]
OSI七层模型
![[Pasted image 20240111165241.png]]
### TCP/IP四层模型
TCP/IP四层模型是目前被广泛采用的一种模型，我们可以将TCP/IP模型看做是OSI七层模型的精简版本。
1. 应用层
2. 传输层
3. 网络层
4. 网络接口层
需要注意的是，我们并不能将 TCP/IP 四层模型 和 OSI 七层模型完全精确地匹配起来，不过可以简单将两者对应起来，如下图所示：![[Pasted image 20240111165413.png]]
#### 应用层(Application layer)

应用层微雨传输层上，主要提供两个终端设备上的应用程序之间信息交换的服务，它定义了信息交换的格式，消息会交给下一层传输层来传输。我们把应用层交互的数据单元称为报文。
![[Pasted image 20240111165648.png]]
应用层协议定义了网络通信规则，对于不同的网络应用需要不同的应用层协议。在互联网应用层协议很多，比如支持web应用的http协议，执行电子邮件的smtp协议等。
**应用层常见协议：**
![[Pasted image 20240111165834.png]]
- http（Hypertext Transfer Protocol，超文本传输协议）：基于TCP协议，是一种用于传输超文本和多媒体内容的协议，主要是为了web浏览器与web服务器之间的通信而设计的。当我们使用浏览器浏览网页的时候，我们网页就是通过http请求进行加载的。
- smtp（Simple Mail Transfer Protocol，简单邮件发送协议）：基于tcp协议，是一种用于发送电子邮件的协议，注意：smtp协议只负责邮件的发送，而不是接受。要从邮件服务器接受邮件，需要使用pop3或imap协议。
- POP3/IMAP（邮件接受协议）：基于TCP协议，两者都是负责邮件接受的协议。IMAP协议是比POP3更新的协议，它在功能和性能上都更加强大。IMAP支持邮件搜索、标记、分类、归档等高级功能，而且可以在多个设备之间同步邮件状态。几乎所有现代电子邮件客户端和服务器都支持IMAP。
- FTP（File Transfer Protocol,文件传输协议）：基于tcp协议，是一种用于在计算机之间传输文件的协议，可以屏蔽操作系统和文件传输方式。注意：ftp是一种不安全的协议，因为他在传输过程总不会对数据进行加密。建议在传输敏感数据时使用更安全的协议，如sftp。
- Telnet(远程登录协议)：基于TCP协议，用于通过一个中断登录到其他服务器。telnet协议的最大确定之一是所有数据（包括用户名和密码）均以明文发送，有安全风险。这就是为什么如今很少使用 Telnet，而是使用一种称为 SSH 的非常安全的网络传输协议的主要原因。
- SSH（Secure Shell Protocol,安全的网络传输协议）：基于TCP协议，通过加密和认证机制实现安全的访问和文件传输等业务
- RTP（Real-time Transport Protocol,实时传输协议）：通常基于UDP协议，但也支持TCP协议。它提供了端到端的实时传输数据的功能，但不包含资源预留存、不保证实时传输质量，这些通能油webrtc实现。
- DNS（Domain Name System，域名管理系统）：基于udp协议，用于解决域名和ip的映射问题。

#### 传输层（Transport Layer）

**传输层的主要任务就是负责向两台终端设备进程之间的通信提供通用的数据传输服务。** 应用进程利用该服务传送应用层报文。“通用的”是指并不针对某个特定的网络应用，而是多种应用可以使用同一个传输层服务。
**传输层常见协议：**
![[Pasted image 20240111173009.png]]
- TCP（Transmisson Control Protocol，传输控制协议）：提供面向连接的，可靠的数据传输服务
- UDP（User Datagram Protocol，用户数据协议）：提供无连接的，尽最大努力的数据传输服务（不保证数据传输的可靠性），简单高效。

#### 网络层（Network layer）

**网络负责为分组交换网络上的不同主机提供通信服务。** 在发送数据是，网络层把运输层产生的报文段或用户数据报封装层分组和包进行传输。在TCP/IP 体系结构中，由于网络层使用IP协议，因此分组也叫IP数据包，简称数据报。
注意：**不要把运输层的“用户数据报 UDP”和网络层的“IP数据包”弄混。**
**网络层的还有一个任务就是选择合适的路由，使源主机运输层所传下来的分组，能通过网络层中的路由器找到目的主机。**
这里强调指出，网络层中的“网络”二字已经不是我们通常谈到的具体网络，而是指计算机网络体系结构模型中的第三层的名称。
互联网是由大龄的已购网络通过路由器相互连接起来的。互联网使用的网络层协议是无连接的网络协议和许多路由选择协议，因此互联网的网络层也叫做**网际层** 和 **IP层** 。
**网络层常见协议：**
![[Pasted image 20240111174530.png]]
- **IP（Internet Protocol，网际协议）**：TCP/IP协议中最重要的协议之一，主要作用是定义数据包的格式、对数据包尽心路由和寻址，仪表他们可以跨网络传播并到达正确的目的地。目前IP协议主要分为两种，一种是过去的IPv4，两一种较新的IPv6，目前这两种协议都在使用，但后者已经被提议来取代前者。
- ARP（Address Resolution Protocol，地址解析协议）：ARP协议解决的是网络层地址和链路层地址之间转换问题。因为一个IP数据包在物理传输过程中，总是需要知道下一跳（物理上的下一个目的地）该去往何处，但IP地址属于逻辑地址，而MAC地址才是物理地址，ARP协议解决了IP地址转换MAC地址的一些问题。
- NAT（Network Address Translation，网络地址转换协议）：Nat协议的应用场景如同他的名称-网络地址转换，应用于内部网到外部网的地址转换过程中。具体的说，在一个小的子网内，各主机使用的是同一个lan下的ip地址，但在该lan以外，在广域网（WAN）中，需要一个统一的IP地址来标识该LAN在整个Internet上的位置。
- OSPF（Open Shortest Path First,开放式最短路径优先）：一种内部网关协议（Interior Gateway Protocol，IGP），也是广泛使用的一种动态路由协议，基于链路状态算法，考虑了链路的带宽、延迟等因素来选择最佳路径。
- RIP（Routing Information Protocol，路由信息协议）：一种内部网关协议（Interior Gateway Protocol，IGP），也是一种动态路由协议，基于距离向量算法，使用固定的条数作为度量标准，选择条数最少的路径作为最佳路径。
- BGP（Border Gateway Protocol，便捷网关协议）：一种用来在路由选择域之间交换网络层可达信息（Network Layer Reachability Information，NLRI）的路由选择协议，具有高度的灵活性和可拓展性。

#### 网络接口层（Network Interface layer）
我们可以把网络接口层看做是数据链路层和物理层的合体。
1. 数据链路层通常简称为链路层（两台主机之间的数据传输，总是在一断一断的链路上传送的）。 **数据链路层的作用是将网路层叫下来的IP数据报组装成帧，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）。**
2. **物理层的作用是实现相邻计算机节点之间的比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异**
网络接口层重要功能和协议如下图所示：
![[Pasted image 20240112103213.png]]

### 总结
![[Pasted image 20240112103244.png]]
#### 应用层协议
- http
- smtp
- pop3/imap
- ftp
- telnet
- ssh
- rtp
- dns
#### 传输层协议
- tcp协议
	- 报文段接口
	- 可靠数据传输
	- 流量控制
	- 拥塞控制
- udp协议
	- 报文段接口
	- tdt（可靠数据传输协议）

#### 网络层协议
- ip
- arp
- icmp
- nat
- rip
- bgp
#### 网络接口层
- 差错检测技术
- 多路访问协议
- csma/cd 协议
- mac协议
- 以太网技术